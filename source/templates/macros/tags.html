{#- vim: sts=2 sw=2 ts=2 sr et: #}
{%- macro render_post_list(posts) %}
<ol>
  {%- for post in posts %}
  <li>{{ post.pub_date.strftime("%Y-%m-%d") }}: <a href="{{ post|url }}">
      {{- post.title }}</a></li>
  {%- endfor %}
</ol>
{%- endmacro %}


{%- macro render_cat_nav(active=none) %}
<h2>Tags</h2>
<div>
<ul>
  {%- for tag in site.query("/tags") %}
    {%- set name = tag.name if tag.name else tag._id.title() %}
    {%- set name = name.replace(" ", "\u00A0") %}
  <li{%- if tag._id == active %} class="active"{%- endif%}>
    <a href="{{ tag|url }}">{{ name }}</a>
        ({{ tag.children.count() }})</li>
  {%- endfor %}
</ul>
</div>
{%- endmacro %}


{%- macro render_cats_horizontal(tags) %}
{%- for specified_tag in tags|sort %}
  {%- if loop.first %}
    {{- "(" }}
  {%- endif %}
  {%- set tag = site.get("/tags/{}".format(specified_tag)) %}
  {%- set name = tag.name if tag.name else tag._id.title() %}
  {%- set name = name.replace(" ", "\u00A0") %}
  {{- name }}
  {%- if loop.last %}
    {{- ")" }}
  {%- else %}
    {{- ", " }}
  {%- endif -%}
{%- endfor -%}
{%- endmacro %}


{%- macro render_cats_vertical(tags) %}
  <div>
    <h3>Tags:</h3>
    <ul>
  {%- for specified_tag in tags|sort %}
    {%- set tag = site.get("/tags/{}".format(specified_tag)) %}
    {%- set name = tag.name if tag.name else tag._id.title() %}
    {%- set name = name.replace(" ", "\u00A0") %}
      <li><a href="/tags/{{ tag._id }}/">{{ name }}</a></li>
  {%- endfor %}
    </ul>
  </div>
{%- endmacro %}
